template int f(int x, int y).
template int post(int x, int y).
template int rnk(int x, int y).

// inv
infer [f, post, rank] r1 >= 0 & r = f(v, r1) |- r >= 0.

// length's postcondition
infer [f, post, rank] res = 0 & r = 0 |- post(res, r) >= 0.
infer [f, post, rank] res = 1 + res1 & r = f(v, r1) & r1 >= 0 & post(res1, r1) >= 0 |- post(res, r) >= 0.
infer [f, post, rank] r = f(v, r1) & r1 >= 0 |- r > r1.

// double's rank
infer [f, post, rnk] i < res_length & post(res_length, r) >= 0 |- rnk(r, i) >= 0.
infer [f, post, rnk] r1 = f(v, r) & i1 = i + 2 |- rnk(r, i) > rnk(r1, i1).

template_solve.

