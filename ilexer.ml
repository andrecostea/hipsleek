# 1 "ilexer.mll"
 
  open Globals
  open Iparser

  let comment_level = ref (0 : int)

  let java_bcount = ref (0 : int)
  let java_code = Buffer.create 100

  let incr_linenum file_name lexbuf =
    let pos = lexbuf.Lexing.lex_curr_p in
      lexbuf.Lexing.lex_curr_p <- 
	{ pos with
	    Lexing.pos_fname = file_name;
	    Lexing.pos_lnum = pos.Lexing.pos_lnum + 1;
	    Lexing.pos_bol = pos.Lexing.pos_cnum;
	}
	
  let print_error lexbuf msg =
	let pos = lexbuf.Lexing.lex_curr_p in
	  Error.report_error {Error.error_loc = {start_pos = pos;mid_pos = pos; end_pos = pos;};
						  Error.error_text = msg}

  let keywords = Hashtbl.create 100
  let _ = List.map (fun (k, t) -> Hashtbl.add keywords k t)
	[("alln", ALLN);
	 ("app", APPEND);
	 ("assert", ASSERT);
	 ("assume", ASSUME);
	 ("bind", BIND);
	 ("bool", BOOL);
	 ("break", BREAK);
	 ("case",CASE);
	 ("class", CLASS);
	 ("coercion", COERCION);
	 ("conseq", CONSEQ);
	 ("const", CONST);
	 ("continue", CONTINUE);
	 ("data", DATA);
	 ("debug", DDEBUG);
	 ("diff", DIFF);
	 ("dynamic", DYNAMIC);
	 ("else", ELSE);
	 ("ensures", ENSURES);
	 ("enum", ENUM);
	 ("ex", EXISTS);
	 ("exists", EXISTS);
	 ("extends", EXTENDS);
	 ("false", FALSE);
	 ("float", FLOAT);
	 ("fold", FOLD);
	 ("forall", FORALL);
	 ("head", HEAD);
	 ("if", IF);
	 ("@I", IMM);
	 ("implies", IMPLIES);
	 ("import", IMPORT);
	 ("in", IN);
         ("include", INCLUDE);
	 ("inlist", INLIST);
	 ("int", INT);
	 ("intersect", INTERSECT);
	 ("inv", INV);
	 ("len", LENGTH);
	 ("max", MAX);
	 ("min", MIN);
	 ("bagmax", BAGMAX);
	 ("bagmin", BAGMIN);
	 ("new", NEW);
	 ("notin", NOTIN);
	 ("notinlist", NOTINLIST);
	 ("null", NULL);
	 ("off", OFF);
	 ("on", ON);
	 ("or", ORWORD);
     ("perm", PERM);
     ("pragma", PRAGMA);
	 ("dprint", PRINT);
	 ("ref", REF);
	 ("requires", REQUIRES);
	 ("res", RES "res");
	 ("rev", REVERSE);
	 ("return", RETURN);
	 ("self", SELF "self");
	 ("split", SPLIT);
	 ("subset", SUBSET);
	 ("static", STATIC);
	 ("tail", TAIL);
	 ("then", THEN);
	 ("this", THIS "this");
     ("time", DTIME);
	 ("to", TO);
	 ("true", TRUE);
	 ("unfold", UNFOLD);
	 ("union", UNION);
	 ("variance", VARIANCE);
	 ("view", VIEW);
	 ("void", VOID);
	 ("where", WHERE);
	 ("while", WHILE);
     ("global", GLOBAL);
	 (*exception related*)
	 (flow, FLOW flow);
	 ("try", TRY);
	 ("catch", CATCH);
	 ("finally", FINALLY);
	 ("throws", THROWS);
	 ("raise",RAISE);
	]

# 113 "ilexer.ml"
let __ocaml_lex_tables = {
  Lexing.lex_base = 
   "\000\000\196\255\001\000\199\255\200\255\078\000\155\000\208\255\
    \209\255\002\000\031\000\159\000\222\255\012\000\224\255\033\000\
    \168\000\232\255\035\000\170\000\076\000\192\000\184\000\241\255\
    \242\255\243\255\046\000\245\255\082\000\249\255\068\000\104\000\
    \181\000\219\255\254\255\255\255\252\255\250\255\111\000\246\255\
    \213\255\244\255\195\000\013\001\071\001\129\001\204\255\231\255\
    \109\000\205\255\228\255\110\000\235\255\233\255\215\255\220\255\
    \230\255\226\255\223\255\218\255\221\255\217\255\216\255\204\001\
    \197\255\253\001\253\255\254\255\255\255\152\001\250\255\002\000\
    \253\255\254\255\255\255\251\255\062\001\250\255\004\000\253\255\
    \132\000\167\000\255\255\254\255\251\255\017\001\254\255\255\255\
    \005\000\222\000\253\255\254\255\107\000\105\000\107\000\105\000\
    \105\000\255\255\254\001\254\255\255\001\220\000\254\255\255\001\
    \000\002\255\255";
  Lexing.lex_backtrk = 
   "\255\255\255\255\057\000\255\255\255\255\054\000\052\000\255\255\
    \255\255\048\000\044\000\045\000\255\255\043\000\255\255\030\000\
    \028\000\255\255\021\000\026\000\017\000\016\000\015\000\255\255\
    \255\255\255\255\041\000\255\255\007\000\255\255\004\000\002\000\
    \049\000\255\255\255\255\255\255\255\255\255\255\008\000\255\255\
    \255\255\255\255\053\000\255\255\255\255\255\255\255\255\255\255\
    \018\000\255\255\255\255\019\000\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\003\000\
    \255\255\255\255\255\255\255\255\255\255\255\255\003\000\255\255\
    \005\000\005\000\255\255\255\255\255\255\255\255\255\255\255\255\
    \000\000\255\255\255\255\255\255\001\000\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\000\000\255\255\255\255\001\000\
    \255\255\255\255";
  Lexing.lex_default = 
   "\255\255\000\000\255\255\000\000\000\000\255\255\255\255\000\000\
    \000\000\255\255\255\255\255\255\000\000\255\255\000\000\255\255\
    \255\255\000\000\255\255\255\255\255\255\255\255\255\255\000\000\
    \000\000\000\000\255\255\000\000\255\255\000\000\255\255\255\255\
    \255\255\000\000\000\000\000\000\000\000\000\000\255\255\000\000\
    \000\000\000\000\255\255\255\255\255\255\255\255\000\000\000\000\
    \255\255\000\000\000\000\255\255\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\255\255\
    \000\000\066\000\000\000\000\000\000\000\070\000\000\000\255\255\
    \000\000\000\000\000\000\000\000\077\000\000\000\255\255\000\000\
    \255\255\255\255\000\000\000\000\000\000\086\000\000\000\000\000\
    \255\255\091\000\000\000\000\000\255\255\255\255\255\255\255\255\
    \255\255\000\000\099\000\000\000\255\255\102\000\000\000\104\000\
    \104\000\000\000";
  Lexing.lex_trans = 
   "\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\004\000\003\000\064\000\075\000\002\000\084\000\087\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \004\000\015\000\021\000\017\000\023\000\010\000\031\000\008\000\
    \012\000\025\000\009\000\011\000\027\000\016\000\022\000\032\000\
    \006\000\006\000\006\000\006\000\006\000\006\000\006\000\006\000\
    \006\000\006\000\028\000\007\000\019\000\020\000\018\000\062\000\
    \030\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\013\000\061\000\024\000\057\000\005\000\
    \053\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\014\000\026\000\029\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \058\000\048\000\047\000\041\000\038\000\037\000\036\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\039\000\040\000\049\000\052\000\005\000\083\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\063\000\059\000\006\000\006\000\006\000\006\000\006\000\
    \006\000\006\000\006\000\006\000\006\000\055\000\082\000\051\000\
    \093\000\094\000\095\000\096\000\060\000\097\000\000\000\035\000\
    \000\000\000\000\000\000\000\000\034\000\054\000\056\000\050\000\
    \042\000\042\000\042\000\042\000\042\000\042\000\042\000\042\000\
    \042\000\042\000\033\000\042\000\042\000\042\000\042\000\042\000\
    \042\000\042\000\042\000\042\000\042\000\000\000\103\000\000\000\
    \001\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\087\000\000\000\000\000\088\000\043\000\
    \000\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\044\000\000\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\092\000\
    \079\000\000\000\000\000\078\000\000\000\000\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \081\000\000\000\000\000\000\000\043\000\080\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\072\000\046\000\000\000\071\000\045\000\000\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\255\255\000\000\090\000\000\000\
    \045\000\000\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\042\000\042\000\042\000\042\000\
    \042\000\042\000\042\000\042\000\042\000\042\000\067\000\100\000\
    \100\000\255\255\255\255\000\000\000\000\000\000\000\000\000\000\
    \000\000\255\255\000\000\073\000\000\000\074\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\067\000\100\000\100\000\
    \000\000\255\255\105\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\255\255\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \068\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \255\255\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\255\255\255\255\255\255\
    \255\255";
  Lexing.lex_check = 
   "\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\000\000\000\000\002\000\071\000\000\000\078\000\088\000\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\009\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\010\000\000\000\015\000\000\000\
    \018\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\000\
    \000\000\000\000\000\000\000\000\000\000\000\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \013\000\020\000\020\000\026\000\028\000\030\000\031\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\038\000\026\000\048\000\051\000\005\000\080\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\005\000\005\000\005\000\005\000\005\000\005\000\005\000\
    \005\000\006\000\011\000\006\000\006\000\006\000\006\000\006\000\
    \006\000\006\000\006\000\006\000\006\000\016\000\081\000\019\000\
    \092\000\093\000\094\000\095\000\011\000\096\000\255\255\032\000\
    \255\255\255\255\255\255\255\255\032\000\016\000\016\000\019\000\
    \022\000\022\000\022\000\022\000\022\000\022\000\022\000\022\000\
    \022\000\022\000\032\000\042\000\042\000\042\000\042\000\042\000\
    \042\000\042\000\042\000\042\000\042\000\255\255\101\000\255\255\
    \000\000\021\000\021\000\021\000\021\000\021\000\021\000\021\000\
    \021\000\021\000\021\000\021\000\021\000\021\000\021\000\021\000\
    \021\000\021\000\021\000\021\000\021\000\021\000\021\000\021\000\
    \021\000\021\000\021\000\085\000\255\255\255\255\085\000\021\000\
    \255\255\021\000\021\000\021\000\021\000\021\000\021\000\021\000\
    \021\000\021\000\021\000\021\000\021\000\021\000\021\000\021\000\
    \021\000\021\000\021\000\021\000\021\000\021\000\021\000\021\000\
    \021\000\021\000\021\000\043\000\255\255\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\089\000\
    \076\000\255\255\255\255\076\000\255\255\255\255\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \076\000\255\255\255\255\255\255\043\000\076\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \043\000\043\000\043\000\043\000\043\000\043\000\043\000\043\000\
    \044\000\044\000\044\000\044\000\044\000\044\000\044\000\044\000\
    \044\000\044\000\044\000\044\000\044\000\044\000\044\000\044\000\
    \044\000\044\000\044\000\044\000\044\000\044\000\044\000\044\000\
    \044\000\044\000\069\000\045\000\255\255\069\000\044\000\255\255\
    \044\000\044\000\044\000\044\000\044\000\044\000\044\000\044\000\
    \044\000\044\000\044\000\044\000\044\000\044\000\044\000\044\000\
    \044\000\044\000\044\000\044\000\044\000\044\000\044\000\044\000\
    \044\000\044\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\101\000\255\255\089\000\255\255\
    \045\000\255\255\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\045\000\045\000\045\000\045\000\
    \045\000\045\000\045\000\045\000\063\000\063\000\063\000\063\000\
    \063\000\063\000\063\000\063\000\063\000\063\000\065\000\098\000\
    \100\000\103\000\104\000\255\255\255\255\255\255\255\255\255\255\
    \255\255\085\000\255\255\069\000\255\255\069\000\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\065\000\098\000\100\000\
    \255\255\103\000\104\000\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\076\000\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \065\000\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \069\000\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\255\
    \255\255\255\255\255\255\255\255\255\255\065\000\098\000\103\000\
    \104\000";
  Lexing.lex_base_code = 
   "";
  Lexing.lex_backtrk_code = 
   "";
  Lexing.lex_default_code = 
   "";
  Lexing.lex_trans_code = 
   "";
  Lexing.lex_check_code = 
   "";
  Lexing.lex_code = 
   "";
}

let rec tokenizer file_name lexbuf =
    __ocaml_lex_tokenizer_rec file_name lexbuf 0
and __ocaml_lex_tokenizer_rec file_name lexbuf __ocaml_lex_state =
  match Lexing.engine __ocaml_lex_tables __ocaml_lex_state lexbuf with
      | 0 ->
# 120 "ilexer.mll"
         ( 
	  comment_level := 0;
	  comment file_name lexbuf 
	)
# 380 "ilexer.ml"

  | 1 ->
# 124 "ilexer.mll"
         ( line_comment file_name lexbuf )
# 385 "ilexer.ml"

  | 2 ->
# 125 "ilexer.mll"
        ( AND )
# 390 "ilexer.ml"

  | 3 ->
# 126 "ilexer.mll"
         ( ANDAND )
# 395 "ilexer.ml"

  | 4 ->
# 127 "ilexer.mll"
        ( AT )
# 400 "ilexer.ml"

  | 5 ->
# 128 "ilexer.mll"
         (IMM)
# 405 "ilexer.ml"

  | 6 ->
# 129 "ilexer.mll"
        ( CBRACE )
# 410 "ilexer.ml"

  | 7 ->
# 130 "ilexer.mll"
        ( COLON )
# 415 "ilexer.ml"

  | 8 ->
# 131 "ilexer.mll"
         ( COLONCOLON )
# 420 "ilexer.ml"

  | 9 ->
# 132 "ilexer.mll"
          ( COLONCOLONCOLON )
# 425 "ilexer.ml"

  | 10 ->
# 133 "ilexer.mll"
        ( COMMA )
# 430 "ilexer.ml"

  | 11 ->
# 134 "ilexer.mll"
         ( CLIST )
# 435 "ilexer.ml"

  | 12 ->
# 135 "ilexer.mll"
        ( CPAREN )
# 440 "ilexer.ml"

  | 13 ->
# 136 "ilexer.mll"
        ( CSQUARE )
# 445 "ilexer.ml"

  | 14 ->
# 137 "ilexer.mll"
        ( DOLLAR )
# 450 "ilexer.ml"

  | 15 ->
# 138 "ilexer.mll"
        ( DOT )
# 455 "ilexer.ml"

  | 16 ->
# 139 "ilexer.mll"
         ( DOUBLEQUOTE )
# 460 "ilexer.ml"

  | 17 ->
# 140 "ilexer.mll"
        ( EQ )
# 465 "ilexer.ml"

  | 18 ->
# 141 "ilexer.mll"
         ( EQEQ )
# 470 "ilexer.ml"

  | 19 ->
# 142 "ilexer.mll"
         ( RIGHTARROW )
# 475 "ilexer.ml"

  | 20 ->
# 143 "ilexer.mll"
          ( EQUIV )
# 480 "ilexer.ml"

  | 21 ->
# 144 "ilexer.mll"
        ( GT )
# 485 "ilexer.ml"

  | 22 ->
# 145 "ilexer.mll"
         ( GTE )
# 490 "ilexer.ml"

  | 23 ->
# 146 "ilexer.mll"
        ( HASH )
# 495 "ilexer.ml"

  | 24 ->
# 147 "ilexer.mll"
         ( IMPLY )
# 500 "ilexer.ml"

  | 25 ->
# 148 "ilexer.mll"
         ( LEFTARROW )
# 505 "ilexer.ml"

  | 26 ->
# 149 "ilexer.mll"
        ( LT )
# 510 "ilexer.ml"

  | 27 ->
# 150 "ilexer.mll"
         ( LTE )
# 515 "ilexer.ml"

  | 28 ->
# 151 "ilexer.mll"
        ( MINUS )
# 520 "ilexer.ml"

  | 29 ->
# 152 "ilexer.mll"
         ( NEQ )
# 525 "ilexer.ml"

  | 30 ->
# 153 "ilexer.mll"
        ( NOT )
# 530 "ilexer.ml"

  | 31 ->
# 154 "ilexer.mll"
        ( OBRACE )
# 535 "ilexer.ml"

  | 32 ->
# 155 "ilexer.mll"
         ( OLIST )
# 540 "ilexer.ml"

  | 33 ->
# 156 "ilexer.mll"
        ( OPAREN )
# 545 "ilexer.ml"

  | 34 ->
# 157 "ilexer.mll"
         ( OP_ADD_ASSIGN )
# 550 "ilexer.ml"

  | 35 ->
# 158 "ilexer.mll"
         ( OP_DEC )
# 555 "ilexer.ml"

  | 36 ->
# 159 "ilexer.mll"
         ( OP_DIV_ASSIGN )
# 560 "ilexer.ml"

  | 37 ->
# 160 "ilexer.mll"
         ( OP_INC )
# 565 "ilexer.ml"

  | 38 ->
# 161 "ilexer.mll"
         ( OP_MOD_ASSIGN )
# 570 "ilexer.ml"

  | 39 ->
# 162 "ilexer.mll"
         ( OP_MULT_ASSIGN )
# 575 "ilexer.ml"

  | 40 ->
# 163 "ilexer.mll"
         ( OP_SUB_ASSIGN )
# 580 "ilexer.ml"

  | 41 ->
# 164 "ilexer.mll"
        ( OR )
# 585 "ilexer.ml"

  | 42 ->
# 165 "ilexer.mll"
         ( OROR )
# 590 "ilexer.ml"

  | 43 ->
# 166 "ilexer.mll"
        ( OSQUARE )
# 595 "ilexer.ml"

  | 44 ->
# 167 "ilexer.mll"
        ( PERCENT )
# 600 "ilexer.ml"

  | 45 ->
# 168 "ilexer.mll"
        ( PLUS )
# 605 "ilexer.ml"

  | 46 ->
# 169 "ilexer.mll"
         ( PRIME )
# 610 "ilexer.ml"

  | 47 ->
# 170 "ilexer.mll"
        ( SEMICOLON )
# 615 "ilexer.ml"

  | 48 ->
# 171 "ilexer.mll"
        ( STAR )
# 620 "ilexer.ml"

  | 49 ->
# 172 "ilexer.mll"
        ( DIV )
# 625 "ilexer.ml"

  | 50 ->
# 173 "ilexer.mll"
          ( ESCAPE )
# 630 "ilexer.ml"

  | 51 ->
let
# 174 "ilexer.mll"
                   hfile
# 636 "ilexer.ml"
= Lexing.sub_lexeme lexbuf lexbuf.Lexing.lex_start_pos lexbuf.Lexing.lex_curr_pos in
# 174 "ilexer.mll"
                         ( HEADER_FILE (hfile) )
# 640 "ilexer.ml"

  | 52 ->
let
# 175 "ilexer.mll"
              numstr
# 646 "ilexer.ml"
= Lexing.sub_lexeme lexbuf lexbuf.Lexing.lex_start_pos lexbuf.Lexing.lex_curr_pos in
# 175 "ilexer.mll"
                     ( LITERAL_INTEGER (int_of_string numstr) )
# 650 "ilexer.ml"

  | 53 ->
let
# 176 "ilexer.mll"
            numstr
# 656 "ilexer.ml"
= Lexing.sub_lexeme lexbuf lexbuf.Lexing.lex_start_pos lexbuf.Lexing.lex_curr_pos in
# 176 "ilexer.mll"
                   ( LITERAL_FLOAT (float_of_string numstr) )
# 660 "ilexer.ml"

  | 54 ->
let
# 177 "ilexer.mll"
                             idstr
# 666 "ilexer.ml"
= Lexing.sub_lexeme lexbuf lexbuf.Lexing.lex_start_pos lexbuf.Lexing.lex_curr_pos in
# 178 "ilexer.mll"
   (
		if idstr = "_" then
			begin
				IDENTIFIER ("Anon" ^ fresh_trailer ())
		  end
		else if idstr = "java" then begin
		  pre_java file_name lexbuf (* search for the first opening brace *)
		end else
		  try Hashtbl.find keywords idstr
		  with | _ -> IDENTIFIER idstr
	  )
# 680 "ilexer.ml"

  | 55 ->
# 189 "ilexer.mll"
               ( tokenizer file_name lexbuf )
# 685 "ilexer.ml"

  | 56 ->
# 190 "ilexer.mll"
         ( incr_linenum file_name lexbuf; tokenizer file_name lexbuf )
# 690 "ilexer.ml"

  | 57 ->
# 191 "ilexer.mll"
         ( incr_linenum file_name lexbuf; tokenizer file_name lexbuf )
# 695 "ilexer.ml"

  | 58 ->
# 192 "ilexer.mll"
           ( incr_linenum file_name lexbuf; tokenizer file_name lexbuf )
# 700 "ilexer.ml"

  | 59 ->
# 193 "ilexer.mll"
        ( EOF )
# 705 "ilexer.ml"

  | __ocaml_lex_state -> lexbuf.Lexing.refill_buff lexbuf; __ocaml_lex_tokenizer_rec file_name lexbuf __ocaml_lex_state

and pre_java file_name lexbuf =
    __ocaml_lex_pre_java_rec file_name lexbuf 65
and __ocaml_lex_pre_java_rec file_name lexbuf __ocaml_lex_state =
  match Lexing.engine __ocaml_lex_tables __ocaml_lex_state lexbuf with
      | 0 ->
# 197 "ilexer.mll"
        (
	  java_bcount := 0;
	  Buffer.clear java_code;
	  java file_name lexbuf
	)
# 720 "ilexer.ml"

  | 1 ->
# 202 "ilexer.mll"
               ( pre_java file_name lexbuf )
# 725 "ilexer.ml"

  | 2 ->
# 203 "ilexer.mll"
      ( print_error lexbuf "java keyword must be followed by Java code enclosed in {}" )
# 730 "ilexer.ml"

  | __ocaml_lex_state -> lexbuf.Lexing.refill_buff lexbuf; __ocaml_lex_pre_java_rec file_name lexbuf __ocaml_lex_state

and java file_name lexbuf =
    __ocaml_lex_java_rec file_name lexbuf 69
and __ocaml_lex_java_rec file_name lexbuf __ocaml_lex_state =
  match Lexing.engine __ocaml_lex_tables __ocaml_lex_state lexbuf with
      | 0 ->
# 206 "ilexer.mll"
        (
	  if !java_bcount = 0 then
		JAVA (Buffer.contents java_code)
	  else begin
		java_bcount := !java_bcount - 1;
		Buffer.add_char java_code '}';
		java file_name lexbuf
	  end
	)
# 749 "ilexer.ml"

  | 1 ->
# 215 "ilexer.mll"
        (
	  java_bcount := !java_bcount + 1;
	  Buffer.add_char java_code '{';
	  java file_name lexbuf
	)
# 758 "ilexer.ml"

  | 2 ->
# 220 "ilexer.mll"
         ( 
	  incr_linenum file_name lexbuf; 
	  Buffer.add_char java_code '\n'; 
	  java file_name lexbuf 
	)
# 767 "ilexer.ml"

  | 3 ->
# 225 "ilexer.mll"
         ( 
	  incr_linenum file_name lexbuf; 
	  Buffer.add_char java_code '\r'; 
	  java file_name lexbuf 
	)
# 776 "ilexer.ml"

  | 4 ->
# 230 "ilexer.mll"
           (
	  incr_linenum file_name lexbuf; 
	  Buffer.add_string java_code "\r\n";
	  java file_name lexbuf 
	)
# 785 "ilexer.ml"

  | 5 ->
let
# 235 "ilexer.mll"
         c
# 791 "ilexer.ml"
= Lexing.sub_lexeme_char lexbuf lexbuf.Lexing.lex_start_pos in
# 235 "ilexer.mll"
            ( 
	  Buffer.add_char java_code c;
	  java file_name lexbuf 
	)
# 798 "ilexer.ml"

  | __ocaml_lex_state -> lexbuf.Lexing.refill_buff lexbuf; __ocaml_lex_java_rec file_name lexbuf __ocaml_lex_state

and comment file_name lexbuf =
    __ocaml_lex_comment_rec file_name lexbuf 76
and __ocaml_lex_comment_rec file_name lexbuf __ocaml_lex_state =
  match Lexing.engine __ocaml_lex_tables __ocaml_lex_state lexbuf with
      | 0 ->
# 241 "ilexer.mll"
         ( 
	  if !comment_level = 0 then
		tokenizer file_name lexbuf 
	  else begin
		comment_level := !comment_level - 1;
		comment file_name lexbuf
	  end
	)
# 816 "ilexer.ml"

  | 1 ->
# 249 "ilexer.mll"
         (
	  comment_level := !comment_level + 1;
	  comment file_name lexbuf
	)
# 824 "ilexer.ml"

  | 2 ->
# 253 "ilexer.mll"
         ( incr_linenum file_name lexbuf; comment file_name lexbuf )
# 829 "ilexer.ml"

  | 3 ->
# 254 "ilexer.mll"
         ( incr_linenum file_name lexbuf; comment file_name lexbuf )
# 834 "ilexer.ml"

  | 4 ->
# 255 "ilexer.mll"
           ( incr_linenum file_name lexbuf; comment file_name lexbuf )
# 839 "ilexer.ml"

  | 5 ->
# 256 "ilexer.mll"
       ( comment file_name lexbuf )
# 844 "ilexer.ml"

  | __ocaml_lex_state -> lexbuf.Lexing.refill_buff lexbuf; __ocaml_lex_comment_rec file_name lexbuf __ocaml_lex_state

and line_comment file_name lexbuf =
    __ocaml_lex_line_comment_rec file_name lexbuf 85
and __ocaml_lex_line_comment_rec file_name lexbuf __ocaml_lex_state =
  match Lexing.engine __ocaml_lex_tables __ocaml_lex_state lexbuf with
      | 0 ->
# 259 "ilexer.mll"
                         ( incr_linenum file_name lexbuf; tokenizer file_name lexbuf )
# 855 "ilexer.ml"

  | 1 ->
# 260 "ilexer.mll"
      ( line_comment file_name lexbuf )
# 860 "ilexer.ml"

  | __ocaml_lex_state -> lexbuf.Lexing.refill_buff lexbuf; __ocaml_lex_line_comment_rec file_name lexbuf __ocaml_lex_state

and preprocess pfile lexbuf =
    __ocaml_lex_preprocess_rec pfile lexbuf 89
and __ocaml_lex_preprocess_rec pfile lexbuf __ocaml_lex_state =
  match Lexing.engine __ocaml_lex_tables __ocaml_lex_state lexbuf with
      | 0 ->
# 264 "ilexer.mll"
      (
		(* processing import *)
		let _ = rip_ws lexbuf in
		let tmp_file_name = get_file_name lexbuf in
		let file_name = String.sub tmp_file_name 1 (String.length tmp_file_name - 2) in
		let in_file = open_in file_name in
		let cont = ref true in
		let in_cont = Buffer.create 1024 in
		  while !cont do
			try
			  let line = input_line in_file in
				Buffer.add_string in_cont (line ^ "\n")
			with
			  | End_of_file -> cont := false
		  done;
		  output_string pfile (Buffer.contents in_cont);
		  preprocess pfile lexbuf
      )
# 888 "ilexer.ml"

  | 1 ->
let
# 282 "ilexer.mll"
         c
# 894 "ilexer.ml"
= Lexing.sub_lexeme_char lexbuf lexbuf.Lexing.lex_start_pos in
# 283 "ilexer.mll"
      ( (* other character, just copy it over *)
		output_char pfile c;
		preprocess pfile lexbuf
		  
      )
# 902 "ilexer.ml"

  | 2 ->
# 288 "ilexer.mll"
        (  )
# 907 "ilexer.ml"

  | __ocaml_lex_state -> lexbuf.Lexing.refill_buff lexbuf; __ocaml_lex_preprocess_rec pfile lexbuf __ocaml_lex_state

and rip_ws lexbuf =
    __ocaml_lex_rip_ws_rec lexbuf 98
and __ocaml_lex_rip_ws_rec lexbuf __ocaml_lex_state =
  match Lexing.engine __ocaml_lex_tables __ocaml_lex_state lexbuf with
      | 0 ->
let
# 291 "ilexer.mll"
                     ws
# 919 "ilexer.ml"
= Lexing.sub_lexeme lexbuf lexbuf.Lexing.lex_start_pos lexbuf.Lexing.lex_curr_pos in
# 291 "ilexer.mll"
                        ( ws )
# 923 "ilexer.ml"

  | 1 ->
# 292 "ilexer.mll"
       ( print_string "There must be whitespace after import directive\n"; exit (-1) )
# 928 "ilexer.ml"

  | __ocaml_lex_state -> lexbuf.Lexing.refill_buff lexbuf; __ocaml_lex_rip_ws_rec lexbuf __ocaml_lex_state

and get_file_name lexbuf =
    __ocaml_lex_get_file_name_rec lexbuf 101
and __ocaml_lex_get_file_name_rec lexbuf __ocaml_lex_state =
  match Lexing.engine __ocaml_lex_tables __ocaml_lex_state lexbuf with
      | 0 ->
let
# 295 "ilexer.mll"
                                fn
# 940 "ilexer.ml"
= Lexing.sub_lexeme lexbuf lexbuf.Lexing.lex_start_pos lexbuf.Lexing.lex_curr_pos in
# 295 "ilexer.mll"
                                   ( fn )
# 944 "ilexer.ml"

  | 1 ->
# 296 "ilexer.mll"
      ( print_string "file name following import must be enclosed in double quotes\n"; exit (-1) )
# 949 "ilexer.ml"

  | __ocaml_lex_state -> lexbuf.Lexing.refill_buff lexbuf; __ocaml_lex_get_file_name_rec lexbuf __ocaml_lex_state

;;

