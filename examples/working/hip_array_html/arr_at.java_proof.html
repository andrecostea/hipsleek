<html>
<head>	<link rel="stylesheet" type="text/css" href="hipsleek.css" />	<script type="text/javascript" src="hipsleek.js"></script></head>
<body>
<h1>./hip/array/arr_at.java</h1>
<ul class="TreeView" id="ProofTree"><li class="Collapsed progsource">Source<ul><table><tr id="L1" class="OddSourceLine"><td>1</td><td><pre>/**</pre></td></tr>
<tr id="L2" class="EvenSourceLine"><td>2</td><td><pre> * Test array access.</pre></td></tr>
<tr id="L3" class="OddSourceLine"><td>3</td><td><pre> * </pre></td></tr>
<tr id="L4" class="EvenSourceLine"><td>4</td><td><pre> * @author Vu An Hoa</pre></td></tr>
<tr id="L5" class="OddSourceLine"><td>5</td><td><pre> */</pre></td></tr>
<tr id="L6" class="EvenSourceLine"><td>6</td><td><pre></pre></td></tr>
<tr id="L7" class="OddSourceLine"><td>7</td><td><pre>relation dom(int[] a, int x, int y) == true.</pre></td></tr>
<tr id="L8" class="EvenSourceLine"><td>8</td><td><pre></pre></td></tr>
<tr id="L9" class="OddSourceLine"><td>9</td><td><pre>int main()</pre></td></tr>
<tr id="L10" class="EvenSourceLine"><td>10</td><td><pre>	requires true</pre></td></tr>
<tr id="L11" class="OddSourceLine"><td>11</td><td><pre>	ensures res = 1;</pre></td></tr>
<tr id="L12" class="EvenSourceLine"><td>12</td><td><pre>{</pre></td></tr>
<tr id="L13" class="OddSourceLine"><td>13</td><td><pre>	int[] a;</pre></td></tr>
<tr id="L14" class="EvenSourceLine"><td>14</td><td><pre>	assume dom(a', 0, 5);</pre></td></tr>
<tr id="L15" class="OddSourceLine"><td>15</td><td><pre>	a[0] = 1;</pre></td></tr>
<tr id="L16" class="EvenSourceLine"><td>16</td><td><pre>	int x = a[0];</pre></td></tr>
<tr id="L17" class="OddSourceLine"><td>17</td><td><pre>	return x;</pre></td></tr>
<tr id="L18" class="EvenSourceLine"><td>18</td><td><pre>}</pre></td></tr>
</table></ul></li><li class="Collapsed proc">
Procedure main<ul><li class="Collapsed procdef">Internal representation
<ul>int main$()<br/>
static  EBase true &amp; true &amp; {FLOW,(30,30)=__norm}<br/>
         EAssume 1::<br/>
           true &amp; res=1 &amp; {FLOW,(30,30)=__norm}<br/>
dynamic  []<br/>
int[] a_40;<br/>
a_40 = Empty Array;<br/>
66:: assume  true &amp; dom(a_40&apos;,0,5) &amp; {FLOW,(30,30)=__norm};<br/>
a_40 = {<br/>
int v_int_15_606;<br/>
v_int_15_606 = 1;<br/>
int v_int_15_605;<br/>
v_int_15_605 = 0;<br/>
67::update___1d$int~int[]~int(v_int_15_606,a_40,v_int_15_605)<br/>
};<br/>
int x_41;<br/>
x_41 = {<br/>
int v_int_16_607;<br/>
v_int_16_607 = 0;<br/>
array_get_elm_at___1d$int[]~int(a_40,v_int_16_607)<br/>
};<br/>
int v_int_17_608;<br/>
v_int_17_608 = x_41;<br/>
68::return v_int_17_608<br/>
<br/>
{(9,0),(0,-1)}<br/>
</ul></li><li class="Collapsed assert">
Assertion at <a href="#L14">line 14</a> holds
<ul></ul></li>
<li class="Collapsed pre">
Memory safety of array update at line <a href="#L15">line 15</a><ul><li class="Collapsed pureimplyvalid">Verification condition
<ul> dom(a_40&apos;,0,5)&#8866; &exist;(ahalb_626:&exist;(ahaub_627:dom(a_40&apos;,ahalb_626,ahaub_627) &amp; <br/>
ahalb_626&lt;=0 &amp; 0&lt;=ahaub_627))
<li class="Collapsed proverinput">Input to prover Z3
<ul>(set-logic AUFNIA)<br/>
;Variables declarations<br/>
(declare-fun a_40_primed () (Array Int Int))<br/>
;Relations declarations<br/>
(declare-fun dom ((Array Int Int) Int Int) Bool)<br/>
(declare-fun dom ((Array Int Int) Int Int) Bool)<br/>
;Axioms assertions<br/>
(assert (forall ((low Int) (high Int) (a (Array Int Int)) (l Int) (h Int)) (=&gt; (and (dom a low high) (and (&lt;= low l) (&lt;= h high))) (dom a l h))))<br/>
(assert (forall ((low Int) (high Int) (a (Array Int Int)) (l Int) (h Int)) (=&gt; (and (dom a low high) (and (&lt;= low l) (&lt;= h high))) (dom a l h))))<br/>
;Antecedent<br/>
(assert (dom a_40_primed 0 5))<br/>
;Negation of Consequence<br/>
(assert (not (exists ((ahalb_626 Int)) (exists ((ahaub_627 Int)) (and (dom a_40_primed ahalb_626 ahaub_627) (and (&lt;= ahalb_626 0) (&lt;= 0 ahaub_627)))))))<br/>
(check-sat)</ul></li><li class="Collapsed proveroutput">Output of prover Z3
<ul>(error &quot;line 6 column 47: invalid declaration, function &apos;dom&apos; (whith the given signature) already declared&quot;)<br/>
unsat</li></ul></ul></li>
</ul></li>
<li class="Collapsed pre">
Memory safety of array access at line <a href="#L16">line 16</a><ul><li class="Collapsed pureimplyvalid">Verification condition
<ul> dom(a_637,0,5) &amp; dom(a_40&apos;,0,5) &amp; update_array_1d(a_637,a_40&apos;,1,0)&#8866; &exist;(ahalb_638:&exist;(ahaub_639:dom(a_40&apos;,ahalb_638,ahaub_639) &amp; <br/>
ahalb_638&lt;=0 &amp; 0&lt;=ahaub_639))
<li class="Collapsed proverinput">Input to prover Z3
<ul>(set-logic AUFNIA)<br/>
;Variables declarations<br/>
(declare-fun a_637 () (Array Int Int))<br/>
(declare-fun a_40_primed () (Array Int Int))<br/>
;Relations declarations<br/>
(declare-fun dom ((Array Int Int) Int Int) Bool)<br/>
(declare-fun dom ((Array Int Int) Int Int) Bool)<br/>
;Axioms assertions<br/>
(assert (forall ((low Int) (high Int) (a (Array Int Int)) (l Int) (h Int)) (=&gt; (and (dom a low high) (and (&lt;= low l) (&lt;= h high))) (dom a l h))))<br/>
(assert (forall ((low Int) (high Int) (a (Array Int Int)) (l Int) (h Int)) (=&gt; (and (dom a low high) (and (&lt;= low l) (&lt;= h high))) (dom a l h))))<br/>
;Antecedent<br/>
(assert (dom a_637 0 5))<br/>
(assert (dom a_40_primed 0 5))<br/>
(assert (= a_40_primed (store a_637 0 1)))<br/>
;Negation of Consequence<br/>
(assert (not (exists ((ahalb_638 Int)) (exists ((ahaub_639 Int)) (and (dom a_40_primed ahalb_638 ahaub_639) (and (&lt;= ahalb_638 0) (&lt;= 0 ahaub_639)))))))<br/>
(check-sat)</ul></li><li class="Collapsed proveroutput">Output of prover Z3
<ul>(error &quot;line 7 column 47: invalid declaration, function &apos;dom&apos; (whith the given signature) already declared&quot;)<br/>
unsat</li></ul></ul></li>
</ul></li>
<li class="Collapsed post">
Procedure post-condition holds
<ul><li class="Collapsed pureimplyvalid">Verification condition
<ul> dom(a_637,0,5) &amp; dom(a_40&apos;,0,5) &amp; update_array_1d(a_637,a_40&apos;,1,0) &amp; <br/>
x_41&apos;=a_40&apos;[0]&#8866; x_41&apos;=1
<li class="Collapsed proverinput">Input to prover Z3
<ul>(set-logic AUFNIA)<br/>
;Variables declarations<br/>
(declare-fun a_637 () (Array Int Int))<br/>
(declare-fun a_40_primed () (Array Int Int))<br/>
(declare-fun x_41_primed () Int)<br/>
;Relations declarations<br/>
;Axioms assertions<br/>
;Antecedent<br/>
(assert (= a_40_primed (store a_637 0 1)))<br/>
(assert (= x_41_primed (select a_40_primed 0)))<br/>
;Negation of Consequence<br/>
(assert (not (= x_41_primed 1)))<br/>
(check-sat)</ul></li><li class="Collapsed proveroutput">Output of prover Z3
<ul>unsat</li></ul></ul></li>
</ul></li>
</ul></li>
<li class="Collapsed term">Termination of all procedures
<ul></ul></li>
</ul>
<script>
	SetupTreeView("ProofTree");
</script>
</body>
</html>