=============================================
=============================================
msess/examples$ ../../sleek ex4-1B1S1S-a1.slk
==============================================

Status: SOLVED

it's now parsing, but fails at type check as below:

------------------------------------------------
!!! **astsimp.ml#9170:@TINA: update_temp_heap_name
Last Proving Location: hodef.slk_1:10_1:42

ERROR: at ex4-1B1S1S-a1.slk_5:22_5:26
Message: **typeinfer.ml#1626: is neither 2 a data nor view name

Entail 1: EXCast. Failure("**typeinfer.ml#1626: is neither 2 a data nor view name")
Validate 1: Expecting1 FailBUT got no residue
------------------------------------------------

Sol:
(i)  unk preds are set to a dedicated view name: SESS_TEMP
(ii) while creating a heap node, set a proper session kind flag
(iii) use the session flag during iformula normalization
      to update the heap name approriately
(i) & (ii) are already implemented
(iii) partially implemented. To continue as below:
      call a transform for formula which in turn
      calls Session.IProjection.update_temp_heap_name
      to update the heap. 


=============================================
=============================================

Status: SOLVED

change @ --> @S to flag a session formula inside
the HO arg list.

=============================================
=============================================

./sleek msess/examples/ex4-1B1S1S-a1.slk -dre "update_formula"
=============================================

Status: SOLVED

(i) to check why temp pred name for R is empty instead of SESS_TEMP
(ii) to check why typeinfer still complains about not finding view name:

(====)
update_formula@5@2@1
update_formula inp1 :(aa::{+ (emp ; (emp ; emp)) * ([] & 0 <= msg)( FLOW __flow)}<>@M[HeapNode1]) * ([] & true)( FLOW __flow)
update_formula@5 EXIT:(aa::R{+ (emp ; (emp ; emp)) * ([] & 0 <= msg)( FLOW __flow)}<>@M[HeapNode1]) * ([] & true)( FLOW __flow)

Last Proving Location: msess/examples/hodef.slk_1:10_1:42

ERROR: at msess/examples/ex4-1B1S1S-a1.slk_5:60_5:75
Message: **typeinfer.ml#1626: is neither 2 a data nor view name

Entail 1: EXCast. Failure("**typeinfer.ml#1626: is neither 2 a data nor view name")
Validate 1: Expecting1 FailBUT got no residue

=============================================
=============================================

Status: Solved, done in parser by applying right associativity to sequence

(1) NORM1
to normalize seq such that head is base/or/*/pred:

self::Seq{self::Seq{a.b}, self::Seq{c,d}}
 |
 |
 V
self::Seq{a, self::Seq{b, self::Seq{c,d}}} 

=============================================
=============================================

Status: Solved

(2) NORM2
to normalize second HO arg of seq such that
it contains no base/or/*/pred unless they are
part of a seq:

self::Seq{a,c}}
 |
 |
 V
self::Seq{a, self::Seq{c, emp}} 


self::Seq{a, c or/* b}}
 |
 |
 V
self::Seq{a, self::Seq{c or/* b, emp}}

=============================================
=============================================

Status: solved

create a wrapper to disable classic ent chek for
HO args when not base.


=============================================
=============================================

!!!disjunction


=============================================
=============================================

Status: Solved; Star node wasn't wrapped in
a Sequence.

./../sleek ex4-1B1S1S-a1.slk --pcp
=============================================

fail reason should have involved classical reason,
but instead:

Entail 15: Fail.(must) cause:matching of ho_args failed (matching of ho_args failed (matching of ho_args failed (do_unmatched_rhs : a::S{ - emp&msg=1&{FLOW,(1,26)=__flow#E}[]}<>@M(may))))

=============================================
=============================================

Status: Solved

Transform from struc_formula to session for
Projection only.

=============================================
=============================================

Print compact form in view_decl for Protocol only.
Also add a flag to disable/enable compact
printing.

=============================================
=============================================

Status: solved

Print compact Projection in cprinter, for h_formula.
Also add a flag to disable/enable compact
printing. By default, compact.

=============================================
=============================================

Status: Solved

Add support for second-order variables in projection
formula.

=============================================
=============================================

Should predicate nodes have Projection/Protocol
types in h_formula_heap_session_kind? Right now
it's None, which is not consistent with the
other types of nodes.

=============================================
=============================================

to support both multiparty projection, as well
as two-party with fences:
Projection vs TPProjection

=============================================
=============================================

Status: In Progress, added a batch of tests

to add test cases in run-fast-test and test
the second order vars.

=============================================
=============================================
./sleek msess/examples/ex5-ho.slk --pip
=============================================
using a dedicated var to denote transmitted
message confuses the typechecker:

Last Proving Location: ../../msess/notes/hodef.slk_7:10_7:31

ERROR: at ex5-ho.slk_25:48_25:49
Message: UNIFICATION ERROR : at location {(Line:25,Col:48),(Line:25,Col:49)} types node and int are inconsistent

Entail 6: EXCast. Failure("UNIFICATION ERROR : at location {(Line:25,Col:48),(Line:25,Col:49)} types node and int are inconsistent")

=============================================
=============================================

When defining predicates such as:

pred_sess_proj ll12<n> == (c!self = null & n = 0) or (d?self = null).

We have a warning and an error:

WARNING: ex.slk_22:15_22:22:compute_view_fw_bw: data name in view is empty

Last Proving Location: ./hodef.slk_1:10_1:42

ERROR: at ex.slk_22:15_22:22
Message: compute_view_fw_bw: data not found:

This is because view_data_name is not set.
Should we do something about this?

=============================================
=============================================




