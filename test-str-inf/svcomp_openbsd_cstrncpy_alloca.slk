data char_star {
  int val;
  char_star next;
}.

pred BADS<> == self::char_star<v,q>*q::BADS<> 
  inv true.

pred_prim Dangling<>.

HeapPred P(char_star@NI x).
HeapPred Q(char_star@NI x).
HeapPred U(char_star@NI x).
HeapPred HP_1692(int x, char_star@NI y).
HeapPred HP_1817(int x, char_star@NI y).
HeapPred HP_1828(int x, char_star@NI y).
HeapPred HP_1693(char_star@NI x, char_star@NI y).
HeapPred HP_1818(char_star@NI x, char_star@NI y).
HeapPred HP_1829(char_star@NI x, char_star@NI y).
HeapPred HP_1862(int x, char_star@NI y, char_star@NI z).
HeapPred HP_1863(char_star@NI x, char_star@NI y, char_star@NI y).

/*-------------------------------while2-------------------------------*/

relAssume
U(s)&
true --> s::char_star<Anon_1690,q_1691>@M * HP_1692(Anon_1690,s) * 
         HP_1693(q_1691,s)&
true.

relAssume
HP_1693(q_1691,s)&true |#| s::char_star<v_int_53_1708,q_1691>@M&
v_int_53_1708=0 --> U(q_1691)&
true.

relAssume
HP_1692(Anon_1690,s)&
s!=null & Anon_20=Anon_1690 & Anon_18=Anon_1690 & s_1695=s --> emp&
true.

relAssume
U(s)&s'=s --> emp&
true.

/*-------------------------------while1-------------------------------*/

relAssume
P(s1)&
true --> s1::char_star<Anon_1815,q_1816>@M * HP_1817(Anon_1815,s1) * 
         HP_1818(q_1816,s1)&
true.

relAssume
Q(s2)&
true --> s2::char_star<Anon_1826,q_1827>@M * HP_1828(Anon_1826,s2) * 
         HP_1829(q_1827,s2)&
true.

relAssume 
HP_1818(q_1816,s1)&true |#| s1::char_star<Anon_1826,q_1816>@M&
Anon_1826!=0 --> P(q_1816)&
true.

relAssume 
HP_1829(q_1827,s2)&true |#| s2::char_star<Anon_1826,q_1827>@M&
Anon_1826!=0 --> Q(q_1827)&
true.

relAssume 
HP_1828(Anon_1826,s2)&
v=Anon_1826 & Anon_1822=Anon_1826 & s2_1831=s2 & v!=0 --> emp&
true.

relAssume 
HP_1817(Anon_1815,s1)&
s1!=null & Anon_20=Anon_1815 & Anon_18=Anon_1815 & s1_1820=s1 --> emp&
true.

relAssume 
HP_1829(q_1827,s2)&
s2_1831=s2 & tmp2'=s2_1831 & q_1823=q_1827 & s2'=q_1823 & Anon_19=q_1827 |#| 
s2::char_star<Anon_1826,q_1827>@M&
x'!=0 & x'=v & Anon_1822=Anon_1826 & v=Anon_1826 --> emp&
true.

relAssume 
HP_1828(Anon_1826,s2)&
s2_1831=s2 & tmp2'=s2_1831 & Anon_1822=Anon_1826 & v=Anon_1826 & x'=v & x'!=0 --> emp&
true.

relAssume 
HP_1818(q_1816,s1)&
s1_1820=s1 & q=q_1816 & s1'=q & q_1836=q_1816 & s1!=null & tmp1'=s1_1820 |#| 
tmp1'::char_star<x',q_1836>@M&
Anon_1822=Anon_1826 & v=Anon_1826 & x'=v & x'!=0 --> emp&
true.

relAssume 
HP_1817(Anon_1815,s1)&
s1_1820=s1 & Anon_18=Anon_1815 & Anon_20=Anon_1815 & s1!=null & tmp1'=s1_1820 --> emp&
true.

relAssume 
HP_1818(q_1816,s1)&true |#| s1::char_star<Anon_1826,q_1816>@M&
Anon_1826=0 --> q_1816::char_star<Anon_1860,q_1861>@M * 
                HP_1862(Anon_1860,s1,q_1816) * 
                HP_1863(q_1861,s1,q_1816)&
true.

relAssume 
HP_1863(q_1851,s1,q_1816)&true --> q_1851::BADS<>@M&
true.

relAssume 
HP_1862(Anon_1860,s1,q_1816)&
q_1816!=null & Anon_1850=Anon_1860 & s1!=null & q_1836=q_1816 & q=q_1816 & 
s1_1820=s1 & tmp1'=s1_1820 --> emp&
true.

relAssume
HP_1829(q_1827,s2)&
Anon_19=q_1827 & q_1823=q_1827 & s2_1831=s2 & s2'=q_1823 & tmp2'=s2_1831 |#| 
s2::char_star<Anon_1826,q_1827>@M&
x'=0 & x'=v & v=Anon_1826 & Anon_1822=Anon_1826 --> emp&
true.

relAssume
HP_1828(Anon_1826,s2)&
v=Anon_1826 & Anon_1822=Anon_1826 & s2_1831=s2 & x'=v & tmp2'=s2_1831 & x'=0 --> emp&
true.

relAssume
HP_1817(Anon_1815,s1)&
s1!=null & Anon_20=Anon_1815 & Anon_18=Anon_1815 & s1_1820=s1 & tmp1'=s1_1820 --> emp&
true.

shape_derive_view [*].
