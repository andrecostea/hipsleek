data node {
  node next;
}.

pred ls<pp,nn> == self=null & nn=0
 or self::node<qq> * qq::ls<pp,nn-1>
 inv nn>=0.

lemma_unsafe self::ls<uu,ll> <- self::ls<vv,ll-1> * vv::node<uu>.

checkentail x::ls<zz,hh>*zz::node<tt>  |- (exists kk: x::ls<tt,kk> & kk=2).
print residue.

/*
# fold-1b.slk -debug fold.dd

This is unsound. For such examples, it may be best to use
folding libraries as seen in do_full_fold to cater for it.
We can generalize these methods to include a the use of right-lemma,
and to call it when using right-lemma with a simple lhs,
and without universal vars.

*/