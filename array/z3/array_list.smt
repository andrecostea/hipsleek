(declare-datatypes (T) ((Pair nil (mk-pair (fst T) (snd Pair)))))
(declare-const p1 (Pair Int))
(declare-const p2 (Pair Int))
(assert (= (fst p1) 10))
(assert (= (fst p2) 20))
(assert (= (snd p1) p2))
(declare-const a1 (Array Int (Pair Int)))
(declare-const a2 (Array Int (Pair Int)))
(assert (= (store a1 0 p1) a2))
(assert (not (= (fst (snd (select a2 0))) 20)))
(check-sat)